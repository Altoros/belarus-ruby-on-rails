<% if @comment.valid? %>
    var comment_div = $("#<%= dom_id @comment %>");
    comment_div.slideToggle("fast", function () {
        comment_div.html("<%= escape_javascript(render :partial => "comments/show", :object => @comment, :as => :comment) %>")
                    .hide().slideToggle("fast");
    });
    $("#comment_body").val("");
    $("#comment_author").val("");
    comment_notify("Comment was updated successfully");
<% else %>
    var comment_div = $("#<%= dom_id @comment %>");
    comment_div.slideToggle("fast", function () {
        comment_div.html("<%= escape_javascript(render "comments/form", :comment => @comment) %>")
                .hide().slideToggle("fast");
        });
<% end %>